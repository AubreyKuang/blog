# 索引（index）

### 定义

帮助MySQL高效**获取数据**的数据结构（有序）

> 如果不加索引，会从头到尾全部遍历（可能有多个）



### 优点

* 提高数据检索效率、降低数据库的IO成本
* 通过索引对数据排序，降低排序的成本、降低CPU的消耗

### 缺点

* 索引列占据空间
* 降低更新表的速度（INSERT、UPDATE、DELETE）



### 索引结构分类

#### 0⃣️ 二叉树索引

缺点：顺序插入时，会形成链表，查询性能大大降低

> 红黑树可解决：自平衡

数据量大时，层级深、检索速度慢

> 二叉树的弊端



#### 0⃣️ B树（B-Tree多路平衡查找树）

以一颗最大度数为5的b树为例

【每个节点最多存储4个key，5个指针】

> 因为指针是key之间的范围，所以指针数比key多1

![image-20230103231159538](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/3978/image-20230103231159538.png)

满员后：

中间元素向上分裂，其余分成两边





#### 1⃣️ B+ Tree索引

最常见、大部分引擎都支持

#### 2⃣️ Hash索引

底层数据结构用哈希表实现，只有精确匹配才有效，不支持范围查询

#### 3⃣️ R-tree空间索引

MyISAM引擎的特殊索引类型，较少用（主要用于地理空间数据类型）

#### 4⃣️ Full-text全文索引

建立倒排索引，快速匹配文档



##### 不同索引在存储引擎中的支持情况

![image-20230103230543882](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/3978/image-20230103230543882.png)