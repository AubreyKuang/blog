import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as s,a as e,o as n}from"./app-0rC9aSp6.js";const t={};function p(h,a){return n(),s("div",null,a[0]||(a[0]=[e(`<h1 id="sqlä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#sqlä¼˜åŒ–"><span>SQLä¼˜åŒ–</span></a></h1><blockquote><p>å’Œç´¢å¼•çš„ä¼˜åŒ–å…³ç³»å¾ˆå¤§</p></blockquote><h3 id="_1âƒ£ï¸-æ’å…¥æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_1âƒ£ï¸-æ’å…¥æ•°æ®"><span>1âƒ£ï¸ æ’å…¥æ•°æ®</span></a></h3><h4 id="insertä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#insertä¼˜åŒ–"><span>insertä¼˜åŒ–</span></a></h4><h5 id="_1-æ‰¹é‡æ’å…¥" tabindex="-1"><a class="header-anchor" href="#_1-æ‰¹é‡æ’å…¥"><span>1. æ‰¹é‡æ’å…¥</span></a></h5><p><code>insert into tb_test values(1, &#39;Tom&#39;),(2, &#39;Cat&#39;),(3, &#39;Jerry&#39;);</code></p><h5 id="_2-æ‰‹åŠ¨æäº¤äº‹åŠ¡" tabindex="-1"><a class="header-anchor" href="#_2-æ‰‹åŠ¨æäº¤äº‹åŠ¡"><span>2. æ‰‹åŠ¨æäº¤äº‹åŠ¡</span></a></h5><p>é¿å…é¢‘å‘æäº¤äº‹åŠ¡</p><p><code>start transaction;</code></p><p><code>...</code></p><p><code>commit;</code></p><h5 id="_3-ä¸»é”®é¡ºåºæ’å…¥" tabindex="-1"><a class="header-anchor" href="#_3-ä¸»é”®é¡ºåºæ’å…¥"><span>3. ä¸»é”®é¡ºåºæ’å…¥</span></a></h5><p>æ¯”ä¹±åºæ’å…¥æ•ˆç‡æ›´é«˜</p><h4 id="å¤§æ‰¹é‡æ’å…¥æ•°æ®" tabindex="-1"><a class="header-anchor" href="#å¤§æ‰¹é‡æ’å…¥æ•°æ®"><span>å¤§æ‰¹é‡æ’å…¥æ•°æ®</span></a></h4><p>ä¸ç”¨ <code>insert</code> è€Œç”¨ <code>load</code></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- å®¢æˆ·ç«¯è¿æ¥æœåŠ¡å™¨æ—¶ï¼ŒåŠ ä¸Šå‚æ•° --local-infile</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mysql </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--local-infile -u root -p</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- è®¾ç½®å…¨å±€å‚æ•°locat_infile = 1ï¼Œå¼€å¯ä»æœ¬åœ°åŠ è½½æ–‡ä»¶å¯¼å…¥æ•°æ®çš„å¼€å…³</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">set</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> global</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> locat_infile </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- æ‰§è¡ŒloadæŒ‡ä»¤å°†å‡†å¤‡å¥½çš„æ•°æ®ï¼ŒåŠ è½½åˆ°è¡¨ç»“æ„ä¸­</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- åŸæ¥çš„æ•°æ® ï¼Œ åˆ†å‰²ï¼ŒåŠ ä¹‹å \\n åˆ†å‰²</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">load</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> data</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> local</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> infile </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;/root/sql1.log&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> into</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;tb_user&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> fields terminated </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">by</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;,&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> lines terminated </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">by</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;\\n&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2âƒ£ï¸-ä¸»é”®ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_2âƒ£ï¸-ä¸»é”®ä¼˜åŒ–"><span>2âƒ£ï¸ ä¸»é”®ä¼˜åŒ–</span></a></h3><h4 id="æ•°æ®ç»„ç»‡æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#æ•°æ®ç»„ç»‡æ–¹å¼"><span>æ•°æ®ç»„ç»‡æ–¹å¼</span></a></h4><p>åœ¨InnoDBå­˜å‚¨å¼•æ“ä¸­ï¼Œè¡¨æ•°æ®æ ¹æ®ä¸»é”®é¡ºåºç»„ç»‡å­˜å‚¨ï¼Œè¿™ç§è¡¨ç§°ä¸ºç´¢å¼•ç»„ç»‡è¡¨ IOT</p><h5 id="é¡µåˆ†è£‚" tabindex="-1"><a class="header-anchor" href="#é¡µåˆ†è£‚"><span>é¡µåˆ†è£‚</span></a></h5><p>ä¸»é”®ä¹±åºæ’å…¥</p><h5 id="é¡µåˆå¹¶" tabindex="-1"><a class="header-anchor" href="#é¡µåˆå¹¶"><span>é¡µåˆå¹¶</span></a></h5><p>åˆ é™¤æ•°æ®æ—¶ï¼Œä¸ä¼šçœŸçš„è¢«åˆ é™¤ï¼Œè€Œæ˜¯è¢«flaggedä¸ºåˆ é™¤ã€ç©ºé—´å…è®¸å…¶ä»–è®°å½•å£°æ˜</p><p>å½“é¡µä¸­åˆ é™¤çš„è®°å½•è¾¾åˆ° MERGE_THRESHOLDï¼ˆé»˜è®¤ä¸ºé¡µçš„50%ï¼Œåœ¨åˆ›å»ºè¡¨æˆ–ç´¢å¼•çš„æ—¶å€™æŒ‡å®šï¼‰ï¼ŒInnoDBå°±ä¼šå¯»æ‰¾å‰åé¡µçœ‹æ˜¯å¦å¯ä»¥ä¼˜åŒ–ç©ºé—´ä½¿ç”¨</p><h4 id="ä¸»é”®è®¾è®¡åŸåˆ™" tabindex="-1"><a class="header-anchor" href="#ä¸»é”®è®¾è®¡åŸåˆ™"><span>ä¸»é”®è®¾è®¡åŸåˆ™</span></a></h4><ul><li>å°½é‡é™ä½ä¸»é”®é•¿åº¦ï¼Œå› ä¸ºå¯èƒ½æœ‰è¾ƒå¤šäºŒçº§ç´¢å¼•</li><li>æ’å…¥æ•°æ®æ—¶å°½é‡é¡ºåºæ’å…¥ï¼Œä½¿ç”¨AUTO_INCREMENTè‡ªå¢ä¸»é”®</li><li>å°½é‡ä¸è¦ä½¿ç”¨UUIDæˆ–è€…å…¶ä»–è‡ªç„¶ä¸»é”®ï¼Œå¦‚èº«ä»½è¯ï¼ˆä¹±åºï¼‰</li><li>ä¸šåŠ¡æ“ä½œä¸­ï¼Œé¿å…ä¿®æ”¹ä¸»é”®</li></ul><h3 id="_3âƒ£ï¸-order-byä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_3âƒ£ï¸-order-byä¼˜åŒ–"><span>3âƒ£ï¸ order byä¼˜åŒ–</span></a></h3><p>å°½é‡è¦ç”¨Using indexï¼Œè€Œä¸æ˜¯Using filesortï¼ˆæ‰€æœ‰ä¸æ˜¯é€šè¿‡ç´¢å¼•ç›´æ¥è¿”å›æ’åºç»“æœçš„æ’åºï¼Œéœ€è¦åœ¨æ’åºç¼“å†²åŒºä¸­æ’åºï¼‰</p><p><code>create index idx_user_age__pho_ad on tb_user(age asc, phone desc);</code></p><p>ageä»å°åˆ°å¤§ã€phoneä»å¤§åˆ°å°ï¼šcollationåˆ—A/D</p><p>å¦‚æœä¸å¯é¿å…å‡ºç°filesortï¼Œå¤§æ•°æ®é‡æ’åºæ—¶ï¼Œå¯ä»¥é€‚å½“å¢å¤§æ’åºç¼“å†²åŒºå¤§å° sort_buffer_size(é»˜è®¤256k)</p><p><img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/3978/image-20230106170817577.png" alt="image-20230106170817577"></p><h3 id="_4âƒ£ï¸-group-byä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_4âƒ£ï¸-group-byä¼˜åŒ–"><span>4âƒ£ï¸ group byä¼˜åŒ–</span></a></h3><p>å¤šå­—æ®µåˆ†ç»„ï¼Œä¹Ÿéœ€è¦æ»¡è¶³æœ€å·¦å‰ç¼€æ³•åˆ™</p><h3 id="_5âƒ£ï¸-limitä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_5âƒ£ï¸-limitä¼˜åŒ–"><span>5âƒ£ï¸ limitä¼˜åŒ–</span></a></h3><p>åˆ†é¡µæ“ä½œï¼Œè¶Šå¾€åæŸ¥è¯¢æ•ˆç‡è¶Šä½</p><p>é™åˆ¶å±•ç¤ºçš„æ•°æ®æ•°é‡</p><p><code>select xxx form tb_Xxx limit 100,10;</code></p><p>æ„æ€æ˜¯ä»ç¬¬100æ¡å¼€å§‹æŸ¥10æ¡</p><p>ä¼˜åŒ–ï¼šåˆ›å»ºè¦†ç›–ç´¢å¼•ã€å­æŸ¥è¯¢</p><h3 id="_6âƒ£ï¸-countä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_6âƒ£ï¸-countä¼˜åŒ–"><span>6âƒ£ï¸ countä¼˜åŒ–</span></a></h3><p>MyISAMå¼•æ“å°†è¡¨çš„æ€»è¡Œæ•°å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œæ‰§è¡Œcount(*)ç›´æ¥è¿”å›è¿™ä¸ªæ•°ï¼Œæ•ˆç‡å¾ˆé«˜</p><p>InnoDBåªèƒ½ä¸€è¡Œä¸€è¡Œè¯»å‡ºæ¥ã€å†è®¡æ•°</p><p>ä¼˜åŒ–ï¼šè‡ªå·±è®¡æ•°</p><h5 id="count-å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#count-å‡½æ•°"><span>count()å‡½æ•°</span></a></h5><p>ä¸è®¡ null</p><p><img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/3978/image-20230106173417077.png" alt="image-20230106173417077"></p><p>æ•ˆç‡</p><p><strong>Count(*) çº¦ç­‰äº count(1) &gt; count(ä¸»é”®) &gt; count(å­—æ®µ)</strong></p><p>å°½é‡ç”¨count(*)ï¼Œå› ä¸ºæ•°æ®åº“ä¸“é—¨åšäº†ä¼˜åŒ–</p><h3 id="_7âƒ£ï¸-updateä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_7âƒ£ï¸-updateä¼˜åŒ–"><span>7âƒ£ï¸ updateä¼˜åŒ–</span></a></h3><p>InnoDBçš„è¡Œé”æ˜¯é’ˆå¯¹ç´¢å¼•åŠ çš„é”ï¼Œè€Œä¸æ˜¯é’ˆå¯¹è®°å½•åŠ çš„é”ï¼Œå¹¶ä¸”è¯¥ç´¢å¼•ä¸èƒ½å¤±æ•ˆï¼Œå¦åˆ™å‡çº§ä¸ºè¡¨é”ï¼Œé™ä½å¹¶å‘æ€§èƒ½</p>`,52)]))}const o=i(t,[["render",p]]),c=JSON.parse(`{"path":"/cs/database/mysql/%F0%9F%93%93%204%20SQL%E4%BC%98%E5%8C%96/1.html","title":"SQLä¼˜åŒ–","lang":"en-US","frontmatter":{"description":"SQLä¼˜åŒ– å’Œç´¢å¼•çš„ä¼˜åŒ–å…³ç³»å¾ˆå¤§ 1âƒ£ï¸ æ’å…¥æ•°æ® insertä¼˜åŒ– 1. æ‰¹é‡æ’å…¥ insert into tb_test values(1, 'Tom'),(2, 'Cat'),(3, 'Jerry'); 2. æ‰‹åŠ¨æäº¤äº‹åŠ¡ é¿å…é¢‘å‘æäº¤äº‹åŠ¡ start transaction; ... commit; 3. ä¸»é”®é¡ºåºæ’å…¥ æ¯”ä¹±åºæ’å…¥æ•ˆç‡æ›´é«˜ å¤§æ‰¹...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"SQLä¼˜åŒ–\\",\\"image\\":[\\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/3978/image-20230106170817577.png\\",\\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/3978/image-20230106173417077.png\\"],\\"dateModified\\":\\"2023-01-07T04:59:04.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Aubrey\\",\\"url\\":\\"https://github.com/aubreykuang\\"}]}"],["meta",{"property":"og:url","content":"https://aubreykuang.github.io/blog/blog/cs/database/mysql/%F0%9F%93%93%204%20SQL%E4%BC%98%E5%8C%96/1.html"}],["meta",{"property":"og:site_name","content":"Aubrey's Blog"}],["meta",{"property":"og:title","content":"SQLä¼˜åŒ–"}],["meta",{"property":"og:description","content":"SQLä¼˜åŒ– å’Œç´¢å¼•çš„ä¼˜åŒ–å…³ç³»å¾ˆå¤§ 1âƒ£ï¸ æ’å…¥æ•°æ® insertä¼˜åŒ– 1. æ‰¹é‡æ’å…¥ insert into tb_test values(1, 'Tom'),(2, 'Cat'),(3, 'Jerry'); 2. æ‰‹åŠ¨æäº¤äº‹åŠ¡ é¿å…é¢‘å‘æäº¤äº‹åŠ¡ start transaction; ... commit; 3. ä¸»é”®é¡ºåºæ’å…¥ æ¯”ä¹±åºæ’å…¥æ•ˆç‡æ›´é«˜ å¤§æ‰¹..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/3978/image-20230106170817577.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2023-01-07T04:59:04.000Z"}],["meta",{"property":"article:modified_time","content":"2023-01-07T04:59:04.000Z"}]]},"git":{"createdTime":1673067544000,"updatedTime":1673067544000,"contributors":[{"name":"KoryKL","username":"KoryKL","email":"1274994508@qq.com","commits":1,"url":"https://github.com/KoryKL"}]},"readingTime":{"minutes":2.39,"words":716},"filePathRelative":"cs/database/mysql/ğŸ““ 4 SQLä¼˜åŒ–/1.md","excerpt":"\\n<blockquote>\\n<p>å’Œç´¢å¼•çš„ä¼˜åŒ–å…³ç³»å¾ˆå¤§</p>\\n</blockquote>\\n<h3>1âƒ£ï¸ æ’å…¥æ•°æ®</h3>\\n<h4>insertä¼˜åŒ–</h4>\\n<h5>1. æ‰¹é‡æ’å…¥</h5>\\n<p><code>insert into tb_test values(1, 'Tom'),(2, 'Cat'),(3, 'Jerry');</code></p>\\n<h5>2. æ‰‹åŠ¨æäº¤äº‹åŠ¡</h5>\\n<p>é¿å…é¢‘å‘æäº¤äº‹åŠ¡</p>\\n<p><code>start transaction;</code></p>\\n<p><code>...</code></p>\\n<p><code>commit;</code></p>","autoDesc":true}`);export{o as comp,c as data};
